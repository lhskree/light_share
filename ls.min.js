function getEncodedFormData(){var e=document.getElementById("composer_to").value,t=document.getElementById("composer_subject").value,o=document.getElementById("composer_body").value,n={};return n.to=encodeURIComponent(escape(e)),n.subject=encodeURIComponent(escape(t)),n.body=encodeURIComponent(escape(o)),n}function closeLSMI(){document.getElementById("lightShareMailInterface").style.display="none"}function createGoogleLink(){var e=getEncodedFormData(),t=document.getElementById("ls_google_mail"),o="http://mail.google.com/mail?view=cm&fs=1&tf=1",n="&to="+e.to,l="&su="+e.subject,i="&body="+e.body;t.setAttribute("href",o+n+l+i)}function createYahooLink(){var e=getEncodedFormData(),t=document.getElementById("ls_yahoo_mail"),o="http://compose.mail.yahoo.com/?",n="to="+e.to,l="&subject="+e.subject,i="&body="+e.body;t.setAttribute("href",o+n+l+i)}function createHotmailLink(){var e=getEncodedFormData(),t=document.getElementById("ls_hotmail_mail"),o="http://mail.live.com/mail/EditMessageLight.aspx?n=",n="&to="+e.to,l="&subject="+e.subject,i="&body="+e.body;t.setAttribute("href",o+n+l+i)}function createAOLLink(){var e=getEncodedFormData(),t=document.getElementById("ls_aol_mail"),o="http://webmail.aol.com/Mail/ComposeMessage.aspx?",n="to="+e.to,l="&subject="+e.subject,i="&body="+e.body;t.setAttribute("href",o+n+l+i)}function createClientLink(){var e=getEncodedFormData(),t=document.getElementById("ls_default_client"),o="mailto:",n=e.to+"?",l="subject="+e.subject,i="&body="+e.body;t.setAttribute("href",o+n+l+i)}window.onload=function(){function e(e,t,o){e.addEventListener?e.addEventListener(t,o):e.attachEvent&&e.attachEvent("on"+t,o)}var t="target",o="href",n="onclick",l=document.querySelector("link[rel='canonical']")?document.querySelector("link[rel='canonical']").getAttribute(o):document.querySelector("meta[property='og:url']")?document.querySelector("meta[property='og:url']").getAttribute("content"):document.URL;l=encodeURIComponent(l);var i="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=500');return false;",a=document.getElementById("ls_mail"),c=document.getElementById("ls_fb"),r=document.getElementById("ls_gplus"),s=document.getElementById("ls_tw"),d=document.getElementById("ls_lin");a.onclick=function(){var e=document.getElementById("lightShareMailInterface");e.style.display="block",console.log("clicked")},a.setAttribute(o,"#"),a.setAttribute(t,"");var u="https://www.facebook.com/dialog/share?",m="&app_id=787311388023796",g="&display=popup",y="&href="+l,b="&redirect_uri="+l;c.setAttribute(o,u+m+g+y+b),c.setAttribute(t,""),c.setAttribute(n,i);var h="https://plus.google.com/share?",p="url="+l;r.setAttribute(o,h+p),r.setAttribute(t,""),r.setAttribute(n,i),s.setAttribute(t,""),s.setAttribute(n,i);var f="https://www.linkedin.com/shareArticle?",E="&url="+l;if(document.querySelector("meta[property='og:title']"))d.setAttribute(o,f+E);else{var I="&title="+encodeURI("Light Share lightweight sharing"),_="&summary="+encodeURI("A minimally intrusive social sharing button group."),k="&source="+l;d.setAttribute(o,f+E+I+_+k)}d.setAttribute(t,""),d.setAttribute(n,i);var v=50,w=document.getElementsByClassName("lightShare")[0];w.style.right="-300px",window.onscroll=function(){w.style.transition="1s",void 0==window.pageYOffset&&(window.pageYOffset=document.documentElement.scrollTop),w.style.right=window.pageYOffset>v?0:"-300px"};var A=["mail","facebook","google plus","twitter","linkedin"],B=[];B.push(a),B.push(c),B.push(r),B.push(s),B.push(d);for(var L=0;L<B.length;L++)B[L].setAttribute("data-label",A[L]),e(B[L],"click",function(){ga("send","event","social","light share",this.getAttribute("data-label"))});var j=document.getElementById("ls_google_mail"),S=document.getElementById("ls_yahoo_mail"),C=document.getElementById("ls_hotmail_mail"),M=document.getElementById("ls_aol_mail"),R=document.getElementById("ls_default_client"),U=document.getElementById("close"),D=document.getElementById("lightShareMailInterface");j.onclick=createGoogleLink,S.onclick=createYahooLink,C.onclick=createHotmailLink,M.onclick=createAOLLink,R.onclick=createClientLink,U.onclick=function(){D.style.display="none"},window.onkeydown=function(e){"27"==e.keyCode&&"none"!==lmsi.style.display&&(lmsi.style.display="none")}};